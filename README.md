# Mental Health Predictor with Decision Tree

This project uses a scikit-learn Decision Tree model to predict a person's mental health status (e.g., **Poor**, **Fair**, or **Good**) based on several lifestyle and demographic factors such as:

- Age  
- Hours of Sleep  
- Stress Level  
- Exercise Frequency  
- Social Interaction Frequency  
- Gender

We utilize **FastAPI** to provide a simple web interface where users can input these features and receive an instant prediction.

---

## Overview

1. **Model Training**  
   - The dataset includes columns for age, sleep hours, stress level, exercise frequency, social interaction frequency, gender, and mental health status (categorical).  
   - A `LabelEncoder` is used to transform the mental health labels (`"Poor"`, `"Fair"`, `"Good"`) into numeric values.  
   - Additional categorical columns (e.g., gender) can be one-hot encoded using `pd.get_dummies()`.  
   - A **Decision Tree** classifier is trained on these features, and the model is saved via `joblib.dump()`.

2. **Model Inference**  
   - A **FastAPI** endpoint accepts user inputs (from an HTML form).  
   - The model, loaded from a `.joblib` file upon server startup, is used to predict the mental health status.  
   - The same label encoder (or a custom mapping) is applied to convert numeric predictions back to `"Poor"`, `"Fair"`, or `"Good"`.

3. **Web Interface**  
   - A **Jinja2**-powered HTML form (in `templates/index.html`) collects feature inputs.  
   - After the user submits, the form data is sent to the FastAPI app, which calculates a prediction.  
   - The mental health status is displayed on the same page, optionally with class probabilities.

---

## Project Structure


```
mental-health-predictor/
├── main.py                    # FastAPI application
├── decision_tree_model.joblib # Trained Decision Tree model
├── label_encoder.joblib      # (Optional) Trained LabelEncoder
├── requirements.txt          # Python dependencies
└── templates/
    └── index.html           # HTML template for user interface
```

### Main Files

- **main.py**  
  Initializes FastAPI, loads the trained Decision Tree model (and optionally the `LabelEncoder`). Defines two routes:
  - `GET "/"`: Renders the input form for user data.  
  - `POST "/"`: Receives the form submission, runs the model prediction, and returns the result.

- **decision_tree_model.joblib**  
  The serialized model, generated by training on the labeled dataset and saved via `joblib.dump()`.

- **label_encoder.joblib** (optional)  
  The serialized LabelEncoder. Maps numeric class predictions back to their original string labels (`"Poor"`, `"Fair"`, `"Good"`). If not saved, you can define a manual dictionary mapping in code.

- **templates/index.html**  
  A Jinja2 HTML template containing a form for user input. After submission, it displays the prediction result on the same page.

---

## Installation

1. **Clone the repository**:
```
git clone https://github.com/your-username/mental-health-predictor.git
cd mental-health-predictor
```

2. **Install the required dependencies**:
```
pip install fastapi uvicorn scikit-learn joblib jinja2
```

3. **Model File**:
- Ensure `decision_tree_model.joblib` is in the project directory.
- If using a separate label encoder, confirm `label_encoder.joblib` is present or adapt the code for a manual numeric-to-string mapping.

---

## Usage

1. **Run the FastAPI server**:
```
uvicorn main:app --reload
```
The `--reload` flag automatically restarts the server when code changes occur.

2. **Open your browser and go to**:
```http://127.0.0.1:8000```
You will see a form prompting for features like Age, Sleep Hours, Stress Level, Exercise Frequency, Social Interaction Frequency, and Gender.

3. **Enter your data and click “Predict!”**  
The page will refresh with a **“Result:”** section showing the predicted mental health status. An example output could look like this:


---

## Example

1. Input Values:
- **Age**: 25  
- **Sleep Hours**: 7.5  
- **Stress Level**: 3  
- **Exercise Frequency**: 2  
- **Social Interaction Frequency**: 5  
- **Gender**: "Male"

2. Upon Submission, a possible result:
Predicted label: Good

Meaning the model predicts a “Good” mental health status with 100% confidence based on these inputs.

---

## Customization

- **Feature Order**: Ensure the order of input features remains consistent with the model’s training order.  
- **Label Mapping**: If you did not save `LabelEncoder`, define a dictionary like `{0: "Poor", 1: "Fair", 2: "Good"}` for manual mapping.  
- **Add/Remove Features**: Modify `index.html` and `main.py` to handle new or fewer features, keeping your model’s training schema in mind.  
- **UI/UX Styling**: Adjust the HTML or incorporate CSS files for a more visually appealing layout.  

---

## Contributing

1. **Fork** this repository.  
2. **Create a feature branch** (`git checkout -b feature/your-feature`).  
3. **Commit** your changes (`git commit -m "Add feature"`).  
4. **Push** to your branch (`git push origin feature/your-feature`).  
5. **Open a Pull Request** to propose your changes.

---

## License

Released under the [MIT License](LICENSE). You are free to use, modify, and distribute this software as needed.

---

**Feel free to open issues or pull requests for bugs, suggestions, or feature requests.**  

**Happy Predicting!**


# Demo:
https://github.com/user-attachments/assets/d294079a-c32f-4413-85a0-ed654ae8e18c

